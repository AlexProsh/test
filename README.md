# Годовой проект. Предсказание стоимости акций.

## 1. Задача.

Прогнозирование доходности активов в последующие 20 рабочих дней с даты прогноза.\n
Активы разделяются по доходности на 5 классов:\n
Класс 1 – 20% активов, показавших в прогнозном периоде худшую доходность среди активов,\n
Класс 5 – 20% активов, показавших в прогнозном периоде лучшую доходность среди активов.\n
Задача – предсказание вероятности отнесения актива к каждому из 5 классов. \n
Решение данной задачи дает нужную информацию (ожидаемая доходность бумаги и оценка риска) для решения задачи формирования оптимального портфеля. \n
Решать задачу портфеля в рамках данного проекта пока не планируем. 

## 2. Целевая переменная.

Y_pred = Вектор (5 координат). Каждая координата – вероятность доходности ценной бумаги оказаться в определенном классе.\n
Y_fact = вектор (5 координат). Если актив принадлежит в данном периоде к 3 классу, y_fact = [0, 0, 1, 0, 0]. Если актив находятся на стыке классов, \n
например, 3 и 4, его вектор может выглядеть так: [0, 0, 0.25, 0.75, 0]. Точный расчет – см. M6 competition.

## 3. Исходные данные.

Цены закрытия 50 акций из SNP. (50 ETF из перечня M6 в задачу пока не включаем. Необходимость и возможность включения рассмотри в дальнейшем).\n
Период: с 01.01.22 по 1.03.23 (пока. Если будет не хватать данных – можно взять за более ранние периоды).

## 4. Метрика качества.

$$ RPS_{i,T} = \sum_{j = 1 }^{5}\left( \sum_{k=1}^{j}q_{i,T.k} -\sum_{k=1}^{j}f_{i,T,k} \right)^{2}$$

Если Y_fact (в формуле q) = [0, 0, 0, 1, 0], а Y_pred (в формуле f) = [0, 0.2, 0.3, 0.4, 0.1], \n
то RPS актива i в период Т равно ((0-0)^2 + (0 – 0.2)^2 + (0 – 0.5)^2 + (1 – 0,9)^2 + (1 – 1)^2) / 5 

$$ RPS_{T} = \frac{1}{100}\sum_{i = 1 }^{100}RPS_{i,T}$$

Оценка RPS портфеля из 100 бумаг в период Т.
